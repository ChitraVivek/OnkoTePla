<UserControl x:Class="bytePassion.OnkoTePla.Client.WPFVisualization.Views.AppointmentView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             xmlns:sampleData="clr-namespace:bytePassion.OnkoTePla.Client.WPFVisualization.SampleData"
             xmlns:converter="clr-namespace:bytePassion.OnkoTePla.Client.WPFVisualization.Converter"
             xmlns:behaviors="clr-namespace:bytePassion.OnkoTePla.Client.WPFVisualization.Behaviors"
             xmlns:enu="clr-namespace:bytePassion.OnkoTePla.Client.WPFVisualization.ViewModels.Helper"
             mc:Ignorable="d" 
             d:DesignHeight="30" d:DesignWidth="200">
	
	<UserControl.Resources>
		<converter:OperatingModeToBackgroundBrush x:Key="OperatingModeToBackgroundBrush"/>
		<converter:OperatingModeToVisibilityConverter x:Key="OperatingModeToVisibilityConverter"/>
	</UserControl.Resources>
	
	<d:UserControl.DataContext>
		<sampleData:AppointmentViewModelSampleData/>
	</d:UserControl.DataContext>
	
	<Border>
       

		<i:Interaction.Behaviors>
			<behaviors:ExecuteCommandOnClickBehavior Command="{Binding SwitchToEditMode}"/>
		</i:Interaction.Behaviors>
		
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="10"></ColumnDefinition>
                <ColumnDefinition></ColumnDefinition>
                <ColumnDefinition Width="10"></ColumnDefinition>
            </Grid.ColumnDefinitions>
            <Grid.ToolTip>
                       <Grid>
                           <Grid.RowDefinitions>
                               <RowDefinition Height="10"></RowDefinition>
                               <RowDefinition Height="Auto"></RowDefinition>
                               <RowDefinition Height="15"></RowDefinition>
                               <RowDefinition Height="Auto"></RowDefinition>
                               <RowDefinition Height="15"></RowDefinition>
                               <RowDefinition Height="Auto"></RowDefinition>
                               <RowDefinition Height="15"></RowDefinition>
                               <RowDefinition Height="Auto"></RowDefinition>
                               <RowDefinition Height="10"></RowDefinition>
                           </Grid.RowDefinitions>
                           <Grid.ColumnDefinitions>
                               <ColumnDefinition Width="10"></ColumnDefinition>
                               <ColumnDefinition Width="250"></ColumnDefinition>
                               <ColumnDefinition Width="10"></ColumnDefinition>
                           </Grid.ColumnDefinitions>
                           <TextBlock Text="{Binding PatientDisplayName}" Grid.Column="1" Grid.Row="1"></TextBlock> 
                           <StackPanel Grid.Column="1" Grid.Row="3">
                        <TextBlock Text="{Binding AppointmentDate}" ></TextBlock>
                        <TextBlock Text="{Binding TimeSpan}" ></TextBlock>
                    </StackPanel>
                           <StackPanel Grid.Column="1" Grid.Row="5">
                        <TextBlock Text="{Binding Room}"></TextBlock>
                           </StackPanel>
                           <TextBlock Text="{Binding Description}" Grid.Column="1" Grid.Row="7"></TextBlock>
                </Grid>
            </Grid.ToolTip>
            <Border Grid.Column="1"  BorderBrush="#CC119EDA" Background="#ffffff">
                <Border.Style>
                    <Style TargetType="{x:Type Border}">
                        <Style.Setters>
                            <Setter Property="Opacity" Value="1.0"></Setter>
                            <Setter Property="BorderThickness" Value="0,2"></Setter>
                        </Style.Setters>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding OperatingMode}" Value="{x:Static enu:OperatingMode.Edit}">
                                <Setter Property="Opacity" Value="0.6"></Setter>
                                <Setter Property="BorderThickness" Value="2"></Setter>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <TextBlock 
					   Foreground="#404148" 
                       TextTrimming="CharacterEllipsis"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Center"
					   FontSize="18"
					   Text="{Binding PatientDisplayName}" FontFamily="Segoe UI Semibold"/>
            </Border>
            <Border Grid.Column="0" BorderThickness="2,2,0,2" BorderBrush="#CC119EDA">
                <Border.Style>
                    <Style TargetType="{x:Type Border}">
                        <Style.Setters>
                            <Setter Property="Background" Value="#ffffff"></Setter>
                        </Style.Setters>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding OperatingMode}" Value="{x:Static enu:OperatingMode.Edit}">
                                <Setter Property="Background" Value="#CC119EDA"></Setter>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <StackPanel Orientation="Horizontal">
                    <Rectangle Height="20" Width="1" Margin="2,0,0,0" Fill="#ffffff" VerticalAlignment="Center"></Rectangle>
                    <Rectangle Height="20" Width="1" Margin="2,0,0,0" Fill="#ffffff" VerticalAlignment="Center"></Rectangle>
                </StackPanel>
            </Border>
            <Border Grid.Column="2" BorderThickness="0,2,2,2" BorderBrush="#CC119EDA">
                <Border.Style>
                    <Style TargetType="{x:Type Border}">
                        <Style.Setters>
                            <Setter Property="Background" Value="#ffffff"></Setter>
                        </Style.Setters>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding OperatingMode}" Value="{x:Static enu:OperatingMode.Edit}">
                                <Setter Property="Background" Value="#CC119EDA"></Setter>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <StackPanel Orientation="Horizontal">
                    <Rectangle Height="20" Width="1" Margin="2,0,0,0" Fill="#ffffff" VerticalAlignment="Center"></Rectangle>
                    <Rectangle Height="20" Width="1" Margin="2,0,0,0" Fill="#ffffff" VerticalAlignment="Center"></Rectangle>
                </StackPanel>
            </Border>
            <!--<Button Command="{Binding DeleteAppointment}"
					Visibility="{Binding OperatingMode, Converter={StaticResource OperatingModeToVisibilityConverter}}">
                <Button.Template>
                    <ControlTemplate>
                        <Grid>
                            <Ellipse Width="24"
									 Height="24"
									 Fill="White"></Ellipse>
                            <Viewbox Width="24" 
									 Height="24">
                                <Path Data="M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,
											2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,
											15.59L13.41,12L17,8.41L15.59,7Z" 
									  Fill="Red" />
                            </Viewbox>
                        </Grid>
                    </ControlTemplate>
                </Button.Template>
            </Button>-->
        </Grid>

	</Border>
</UserControl>
